{% extends 'layout.html' %}

{% block content %}
    <h2>Получить временный токен</h1>
    <form method="POST" action="https://money.yandex.ru/oauth/authorize">
      <div class="form-group">
        <label for="client_id_input">ID зарегистрированного приложения</label>
        <input name="client_id" class="form-control" required="required" value="{{ YMONEY_APP_ID }}" id="client_id_input"/>
      </div>

      <div class="form-group">
        <label for="response_type_input">ID зарегистрированного приложения</label>
        <input name="response_type" class="form-control" readonly="readonly" value="code" id="response_type_input"/>
      </div>

      <div class="form-group">
        <label for="redirect_uri_input">Редирект</label>
        <input name="redirect_uri" class="form-control" readonly="readonly" value="http://127.0.0.1:5000/create_token/" id="redirect_uri_input"/>
      </div>

      <div class="form-group">
        <label for="scope_input">Предоставить следующие права</label>
        <input name="scope" class="form-control" value="{{ YMONEY_PERMISSIONS }}" id="scope_input"/>
      </div>

      <button type="submit" class="btn btn-primary">Сгенерировать временный token</button>
    </form>

    <footer class="my-5 pt-5 text-center">
      <p>
          Как это работает <a href="https://tech.yandex.ru/money/doc/dg/reference/request-access-token-docpage/">документация</a>
      </p>
    </footer>
{% endblock %}